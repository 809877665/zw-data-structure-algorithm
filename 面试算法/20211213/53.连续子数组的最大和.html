<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    /**
      * @param {number[]} nums
      * @return {number}
      */
      var maxSubArray = function(nums) {
        if(nums.length <1) return 0
        if(nums.length ===1 ) return nums[0]
        let maxSum = nums[0], sum = 0
        let i=0;
        while(i<nums.length) {
          sum += nums[i]
          // 注意： nums[i]<0时先计算maxSum的值，再将sum的值至为0；
          maxSum = Math.max(sum, maxSum)

          // 注意：普通的求和值sum<0时，要至为0；
          if(sum <0) {
            sum = 0;
          }
          i++
        }
        return maxSum
      };
      console.log(maxSubArray([-2,1,-3,4,-1,2,1,-5,4]));
  </script>
</body>
</html>